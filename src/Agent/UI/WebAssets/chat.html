<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Assistant</title>
    <link rel="stylesheet" href="chat.css">
    <!-- Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-csharp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-sql.min.js"></script>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <div id="header">
            <div class="header-left">
                <div class="ai-avatar">
                    <i class="bi bi-robot"></i>
                </div>
                <div class="header-info">
                    <h1>AI Assistant</h1>
                    <p class="status" id="status">
                        <span class="status-dot"></span>
                        <span id="status-text">Ready</span>
                    </p>
                </div>
            </div>
            <div class="header-actions">
                <button class="icon-btn" id="new-chat-btn" title="New conversation (Ctrl+N)">
                    <i class="bi bi-plus-circle"></i>
                </button>
                <button class="icon-btn theme-toggle" id="settings-btn" title="Toggle theme">
                    <i class="bi bi-moon-fill"></i>
                </button>
            </div>
        </div>

        <!-- Chat container -->
        <div id="chat-container">
            <div id="messages"></div>
            <div id="scroll-anchor"></div>
        </div>

        <!-- Typing indicator -->
        <div id="typing-indicator" class="hidden">
            <div class="typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <span class="typing-text">AI is thinking...</span>
        </div>

        <!-- Input area -->
        <div id="input-area">
            <div class="quick-actions" id="quick-actions">
                <button class="quick-action-chip" data-query="What commands are available for customer management?">
                    <i class="bi bi-people"></i> Customer Commands
                </button>
                <button class="quick-action-chip" data-query="Generate code to find a customer and update their email">
                    <i class="bi bi-code-square"></i> Generate Code
                </button>
                <button class="quick-action-chip" data-query="How do I send an email in Workflow+?">
                    <i class="bi bi-envelope"></i> Email Help
                </button>
            </div>
            
            <div id="input-container">
                <textarea 
                    id="user-input" 
                    rows="1" 
                    placeholder="Ask me anything about Workflow+ scripting..."
                    maxlength="5000"
                ></textarea>
                <div class="input-actions">
                    <button class="icon-btn" id="attach-btn" title="Attach context (coming soon)" disabled>
                        <i class="bi bi-paperclip"></i>
                    </button>
                    <button class="icon-btn primary" id="send-btn" title="Send message (Ctrl+Enter)">
                        <i class="bi bi-send-fill"></i>
                    </button>
                </div>
            </div>
            
            <div class="input-footer">
                <span class="char-count" id="char-count">0 / 5000</span>
                <span class="hint">Press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> to send, <kbd>Shift</kbd>+<kbd>Enter</kbd> for new line</span>
            </div>
        </div>
    </div>

    <script src="chat.js"></script>
</body>
</html>
